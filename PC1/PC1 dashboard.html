<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Census 2011 Disability Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-slate-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const DisabilityDashboard = () => {
          const [activeView, setActiveView] = useState('overview');
          const [selectedStates, setSelectedStates] = useState(['Sikkim', 'Odisha', 'Jammu & Kashmir', 'Maharashtra', 'Kerala']);
          const [selectedMetric, setSelectedMetric] = useState('gender'); // 'gender' or 'location'
          const [searchTerm, setSearchTerm] = useState('');

          const nationalData = {
            total_pwd: 26814994,
            male_pwd: 14988593,
            female_pwd: 11826401,
            sex_ratio: 789,
            national_prevalence: 2.21,
            rural_pct: 69,
            urban_pct: 31,
            homeless: 68000
          };

          const stateData = [
            { state: 'SIKKIM', prevalence: 2.99, pwd_pop: 18187 },
            { state: 'ODISHA', prevalence: 2.97, pwd_pop: 1244402 },
            { state: 'JAMMU & KASHMIR', prevalence: 2.88, pwd_pop: 361153 },
            { state: 'ANDHRA PRADESH', prevalence: 2.68, pwd_pop: 2266607 },
            { state: 'MAHARASHTRA', prevalence: 2.64, pwd_pop: 2963392 },
            { state: 'LAKSHADWEEP', prevalence: 2.51, pwd_pop: 1615 },
            { state: 'CHHATTISGARH', prevalence: 2.45, pwd_pop: 624937 },
            { state: 'PUDUCHERRY', prevalence: 2.43, pwd_pop: 30189 },
            { state: 'PUNJAB', prevalence: 2.36, pwd_pop: 654063 },
            { state: 'JHARKHAND', prevalence: 2.34, pwd_pop: 769980 },
            { state: 'KERALA', prevalence: 2.28, pwd_pop: 761843 },
            { state: 'RAJASTHAN', prevalence: 2.28, pwd_pop: 1563694 },
            { state: 'HIMACHAL PRADESH', prevalence: 2.27, pwd_pop: 155316 },
            { state: 'GOA', prevalence: 2.26, pwd_pop: 33012 },
            { state: 'BIHAR', prevalence: 2.25, pwd_pop: 2331009 },
            { state: 'WEST BENGAL', prevalence: 2.21, pwd_pop: 2017406 },
            { state: 'KARNATAKA', prevalence: 2.17, pwd_pop: 1324205 },
            { state: 'HARYANA', prevalence: 2.16, pwd_pop: 546374 },
            { state: 'MANIPUR', prevalence: 2.15, pwd_pop: 58547 },
            { state: 'MADHYA PRADESH', prevalence: 2.14, pwd_pop: 1551931 },
            { state: 'UTTAR PRADESH', prevalence: 2.08, pwd_pop: 4157514 },
            { state: 'ARUNACHAL PRADESH', prevalence: 1.93, pwd_pop: 26734 },
            { state: 'UTTARAKHAND', prevalence: 1.83, pwd_pop: 185272 },
            { state: 'GUJARAT', prevalence: 1.81, pwd_pop: 1092302 },
            { state: 'ANDAMAN & NICOBAR ISLANDS', prevalence: 1.75, pwd_pop: 6660 },
            { state: 'TRIPURA', prevalence: 1.75, pwd_pop: 64346 },
            { state: 'TAMIL NADU', prevalence: 1.64, pwd_pop: 1179963 },
            { state: 'ASSAM', prevalence: 1.54, pwd_pop: 480065 },
            { state: 'MEGHALAYA', prevalence: 1.5, pwd_pop: 44317 },
            { state: 'NAGALAND', prevalence: 1.5, pwd_pop: 29631 },
            { state: 'CHANDIGARH', prevalence: 1.4, pwd_pop: 14796 },
            { state: 'NCT OF DELHI', prevalence: 1.4, pwd_pop: 234882 },
            { state: 'MIZORAM', prevalence: 1.39, pwd_pop: 15160 },
            { state: 'DADRA & NAGAR HAVELI', prevalence: 0.96, pwd_pop: 3294 },
            { state: 'DAMAN & DIU', prevalence: 0.9, pwd_pop: 2196 }
          ];

          // All Indian states for search (includes those not in data)
          const allIndianStates = [
            'Andhra Pradesh', 'Arunachal Pradesh', 'Assam', 'Bihar', 'Chhattisgarh',
            'Goa', 'Gujarat', 'Haryana', 'Himachal Pradesh', 'Jharkhand',
            'Karnataka', 'Kerala', 'Madhya Pradesh', 'Maharashtra', 'Manipur',
            'Meghalaya', 'Mizoram', 'Nagaland', 'Odisha', 'Punjab',
            'Rajasthan', 'Sikkim', 'Tamil Nadu', 'Telangana', 'Tripura',
            'Uttar Pradesh', 'Uttarakhand', 'West Bengal', 'Jammu & Kashmir',
            'Delhi', 'Puducherry', 'Ladakh', 'Chandigarh', 'Andaman and Nicobar Islands',
            'Dadra and Nagar Haveli and Daman and Diu', 'Lakshadweep'
          ];

          const disabilityTypes = [
            { name: 'Movement', pct: 20.28, count: 5436826, color: '#7c3aed' },
            { name: 'Hearing', pct: 18.92, count: 5072914, color: '#a855f7' },
            { name: 'Seeing', pct: 18.77, count: 5033431, color: '#9333ea' },
            { name: 'Other', pct: 18.38, count: 4927589, color: '#c084fc' },
            { name: 'Multiple', pct: 7.89, count: 2116698, color: '#d8b4fe' },
            { name: 'Speech', pct: 7.45, count: 1998692, color: '#e9d5ff' },
            { name: 'Mental Retardation', pct: 5.62, count: 1505964, color: '#ec4899' },
            { name: 'Mental Illness', pct: 2.7, count: 722880, color: '#f9a8d4' }
          ];

          const views = [
            { id: 'overview', label: 'üìä National Overview' },
            { id: 'states', label: 'üó∫Ô∏è State Patterns' },
            { id: 'types', label: 'üîç Disability Types' }
          ];

          const toggleState = (stateName) => {
            setSelectedStates(prev => 
              prev.includes(stateName) 
                ? prev.filter(s => s !== stateName)
                : [...prev, stateName]
            );
          };

          const filteredStates = allIndianStates.filter(state =>
            state.toLowerCase().includes(searchTerm.toLowerCase())
          );

          // Helper function to check if state has data (case-insensitive)
          const getStateData = (stateName) => {
            return stateData.find(s => 
              s.state.toUpperCase() === stateName.toUpperCase() ||
              s.state.replace(/\s+/g, '').toUpperCase() === stateName.replace(/\s+/g, '').toUpperCase() ||
              (stateName.toUpperCase() === 'DELHI' && s.state.toUpperCase() === 'NCT OF DELHI')
            );
          };

          return (
            <div className="w-full bg-slate-900 text-slate-100 p-6 font-sans rounded-lg">
              <div className="max-w-5xl mx-auto">
                {/* Header */}
                <div className="mb-6">
                  <h2 className="text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">
                    Census 2011: Disability in India
                  </h2>
                  <p className="text-slate-400 text-sm mt-1">
                    Interactive exploration of 26.8 million lives
                  </p>
                </div>

                {/* View Selector Tabs */}
                <div className="flex gap-2 mb-6 bg-slate-800 p-2 rounded-lg border border-slate-700">
                  {views.map(view => (
                    <button
                      key={view.id}
                      onClick={() => setActiveView(view.id)}
                      className={`flex-1 px-4 py-2.5 rounded-md font-semibold text-sm transition-all ${
                        activeView === view.id
                          ? 'bg-purple-600 text-white shadow-lg'
                          : 'text-slate-400 hover:text-slate-200 hover:bg-slate-700'
                      }`}
                    >
                      {view.label}
                    </button>
                  ))}
                </div>

                {/* CONTENT AREA */}
                <div className="bg-slate-800 rounded-xl p-6 border border-slate-700 min-h-[500px]">
                  
                  {/* VIEW 1: NATIONAL OVERVIEW */}
                  {activeView === 'overview' && (
                    <div>
                      <h3 className="text-lg font-bold mb-6 text-slate-200">National Statistics</h3>
                      
                      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                        {/* Total PWD */}
                        <div className="bg-gradient-to-br from-purple-900 to-purple-800 rounded-xl p-6 border border-purple-700 transition-all duration-300 hover:shadow-2xl hover:scale-[1.02] cursor-pointer">
                          <div className="text-purple-200 text-sm font-medium mb-2">Total PWDs</div>
                          <div className="text-5xl font-bold mb-2">2.68</div>
                          <div className="text-xl text-purple-300">Crore</div>
                          <div className="mt-4 pt-4 border-t border-purple-700">
                            <div className="text-xs text-purple-200">Census 2011 Enumeration</div>
                            <div className="text-sm text-purple-100 font-semibold mt-1">26,814,994 people</div>
                          </div>
                        </div>

                        {/* Distribution Card with Dropdown */}
                        <div className="bg-slate-900 rounded-xl p-6 border border-slate-700 transition-all duration-300 hover:border-slate-600 hover:shadow-lg">
                          {/* Dropdown Selector */}
                          <div className="mb-4">
                            <select 
                              value={selectedMetric}
                              onChange={(e) => setSelectedMetric(e.target.value)}
                              className="w-full bg-slate-800 border border-slate-600 rounded-lg px-3 py-2 text-sm text-slate-200 cursor-pointer hover:border-purple-500 focus:outline-none focus:border-purple-500 transition-colors"
                            >
                              <option value="gender">üë§ Gender Distribution</option>
                              <option value="location">üìç Location Distribution</option>
                            </select>
                          </div>

                          {/* Gender Distribution */}
                          {selectedMetric === 'gender' && (
                            <div className="space-y-4">
                              <div>
                                <div className="flex justify-between mb-2">
                                  <span className="text-slate-300 text-sm flex items-center gap-2">
                                    <div className="w-3 h-3 rounded-full bg-purple-500"></div>
                                    Male
                                  </span>
                                  <span className="font-bold text-purple-400">1.50 Cr (56%)</span>
                                </div>
                                <div className="bg-slate-700 rounded-full h-2 overflow-hidden">
                                  <div className="bg-purple-500 h-full" style={{width: '56%'}}></div>
                                </div>
                              </div>

                              <div>
                                <div className="flex justify-between mb-2">
                                  <span className="text-slate-300 text-sm flex items-center gap-2">
                                    <div className="w-3 h-3 rounded-full bg-pink-500"></div>
                                    Female
                                  </span>
                                  <span className="font-bold text-pink-400">1.18 Cr (44%)</span>
                                </div>
                                <div className="bg-slate-700 rounded-full h-2 overflow-hidden">
                                  <div className="bg-pink-500 h-full" style={{width: '44%'}}></div>
                                </div>
                              </div>

                              <div className="mt-4 pt-4 border-t border-slate-700 flex justify-between items-baseline">
                                <span className="text-xs text-slate-400">Sex Ratio</span>
                                <div>
                                  <span className="text-2xl font-bold text-amber-400">789</span>
                                  <span className="text-xs text-slate-400 ml-1">F:1000M</span>
                                </div>
                              </div>
                            </div>
                          )}

                          {/* Location Distribution */}
                          {selectedMetric === 'location' && (
                            <div className="space-y-4">
                              <div>
                                <div className="flex justify-between mb-2">
                                  <span className="text-slate-300 text-sm flex items-center gap-2">
                                    <div className="w-3 h-3 rounded-full bg-green-500"></div>
                                    Rural
                                  </span>
                                  <span className="font-bold text-green-400">18.5M (69%)</span>
                                </div>
                                <div className="bg-slate-700 rounded-full h-2 overflow-hidden">
                                  <div className="bg-green-500 h-full" style={{width: '69%'}}></div>
                                </div>
                              </div>

                              <div>
                                <div className="flex justify-between mb-2">
                                  <span className="text-slate-300 text-sm flex items-center gap-2">
                                    <div className="w-3 h-3 rounded-full bg-blue-500"></div>
                                    Urban
                                  </span>
                                  <span className="font-bold text-blue-400">8.3M (31%)</span>
                                </div>
                                <div className="bg-slate-700 rounded-full h-2 overflow-hidden">
                                  <div className="bg-blue-500 h-full" style={{width: '31%'}}></div>
                                </div>
                              </div>

                              <div className="mt-4 pt-4 border-t border-slate-700 flex justify-between items-baseline">
                                <span className="text-xs text-slate-400">Homeless</span>
                                <div>
                                  <span className="text-2xl font-bold text-orange-400">68K</span>
                                  <span className="text-xs text-slate-400 ml-1">persons</span>
                                </div>
                              </div>
                            </div>
                          )}
                        </div>
                      </div>

                      {/* Additional Stats - Compact */}
                      <div className="grid grid-cols-3 gap-4 mt-6">
                        <div className="bg-slate-900 rounded-lg p-4 border border-slate-700 text-center transition-all duration-300 hover:border-slate-500 hover:scale-105 hover:shadow-lg cursor-pointer group">
                          <div className="text-2xl font-bold text-purple-400 group-hover:text-purple-300 transition-colors">69%</div>
                          <div className="text-xs text-slate-400 mt-1 group-hover:text-slate-300 transition-colors">Rural</div>
                        </div>
                        <div className="bg-slate-900 rounded-lg p-4 border border-slate-700 text-center transition-all duration-300 hover:border-slate-500 hover:scale-105 hover:shadow-lg cursor-pointer group">
                          <div className="text-2xl font-bold text-purple-400 group-hover:text-purple-300 transition-colors">31%</div>
                          <div className="text-xs text-slate-400 mt-1 group-hover:text-slate-300 transition-colors">Urban</div>
                        </div>
                        <div className="bg-slate-900 rounded-lg p-4 border border-slate-700 text-center transition-all duration-300 hover:border-slate-500 hover:scale-105 hover:shadow-lg cursor-pointer group">
                          <div className="text-2xl font-bold text-orange-400 group-hover:text-orange-300 transition-colors">68K</div>
                          <div className="text-xs text-slate-400 mt-1 group-hover:text-slate-300 transition-colors">Homeless</div>
                        </div>
                      </div>
                    </div>
                  )}

                  {/* VIEW 2: STATE PATTERNS */}
                  {activeView === 'states' && (
                    <div>
                      <div className="flex justify-between items-center mb-4">
                        <h3 className="text-lg font-bold text-slate-200">State Patterns</h3>
                        <div className="text-xs text-slate-400">
                          Selected: {selectedStates.length}/10
                        </div>
                      </div>

                      {/* Search Bar */}
                      <div className="mb-4">
                        <input
                          type="text"
                          placeholder="üîç Search states... (e.g., Maharashtra, Kerala)"
                          value={searchTerm}
                          onChange={(e) => setSearchTerm(e.target.value)}
                          className="w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-2 text-sm text-slate-200 placeholder-slate-500 focus:outline-none focus:border-purple-500 transition-colors"
                        />
                      </div>

                      {/* State Checkboxes - Searchable (All Indian States) */}
                      <div className="bg-slate-900 rounded-lg p-4 mb-4 border border-slate-700 max-h-48 overflow-y-auto">
                        <div className="grid grid-cols-2 md:grid-cols-3 gap-2">
                          {filteredStates.map(stateName => {
                            const stateDataEntry = getStateData(stateName);
                            const hasData = !!stateDataEntry;
                            
                            return (
                              <label 
                                key={stateName} 
                                className={`flex items-center gap-2 p-2 rounded transition-colors ${
                                  hasData 
                                    ? 'cursor-pointer hover:bg-slate-800' 
                                    : 'cursor-not-allowed opacity-50'
                                }`}
                                title={!hasData ? 'No data available for this state' : ''}
                              >
                                <input
                                  type="checkbox"
                                  checked={selectedStates.includes(stateName)}
                                  onChange={() => hasData && toggleState(stateName)}
                                  className="w-4 h-4 text-purple-600 rounded accent-purple-600"
                                  disabled={!hasData || (!selectedStates.includes(stateName) && selectedStates.length >= 10)}
                                />
                                <span className="text-sm text-slate-300">
                                  {stateName}
                                  {!hasData && <span className="text-xs text-slate-500 ml-1">(no data)</span>}
                                </span>
                              </label>
                            );
                          })}
                        </div>
                        {filteredStates.length === 0 && (
                          <div className="text-center text-slate-500 text-sm py-4">
                            No states found matching "{searchTerm}"
                          </div>
                        )}
                      </div>

                      {/* Comparison Chart */}
                      <div className="space-y-3">
                        {selectedStates
                          .map(stateName => getStateData(stateName))
                          .filter(state => state !== undefined)
                          .sort((a, b) => b.prevalence - a.prevalence)
                          .map((state) => {
                            const maxPrev = Math.max(...stateData.map(s => s.prevalence));
                            const widthPct = (state.prevalence / maxPrev) * 100;

                            return (
                              <div key={state.state} className="group">
                                <div className="flex items-center gap-3 mb-1.5">
                                  <div className="w-32 text-sm text-slate-300 text-right truncate">
                                    {state.state}
                                  </div>
                                  <div className="flex-1 relative">
                                    <div className="bg-slate-700 rounded-full h-8 overflow-hidden">
                                      <div 
                                        className="h-full bg-gradient-to-r from-purple-600 to-purple-400 flex items-center justify-between px-3 transition-all duration-300 group-hover:brightness-110 group-hover:scale-[1.01]"
                                        style={{width: `${widthPct}%`}}
                                      >
                                        <span className="text-xs font-semibold text-white">
                                          {(state.pwd_pop / 100000).toFixed(1)}L
                                        </span>
                                        <span className="text-sm font-bold text-white">
                                          {state.prevalence.toFixed(2)}%
                                        </span>
                                      </div>
                                    </div>
                                    
                                    {/* Hover Tooltip */}
                                    <div className="absolute left-1/2 -translate-x-1/2 -top-12 bg-slate-800 border border-slate-600 px-3 py-2 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap text-xs z-10">
                                      <div className="font-semibold text-slate-200">{state.state}</div>
                                      <div className="text-slate-400">{(state.pwd_pop / 100000).toFixed(1)} Lakh people ‚Ä¢ {state.prevalence.toFixed(2)}% prevalence</div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            );
                          })}
                      </div>

                      <div className="mt-4 text-xs text-slate-400 text-center">
                        National Average: 2.21% | Showing {selectedStates.filter(s => getStateData(s)).length} states
                      </div>
                    </div>
                  )}

                  {/* VIEW 3: DISABILITY TYPES */}
                  {activeView === 'types' && (
                    <div>
                      <h3 className="text-lg font-bold mb-6 text-slate-200">8 Categories of Disability</h3>
                      
                      <div className="space-y-3 mb-6">
                        {disabilityTypes.sort((a, b) => b.pct - a.pct).map((type) => {
                          const maxPct = Math.max(...disabilityTypes.map(t => t.pct));
                          const widthPct = (type.pct / maxPct) * 100;

                          return (
                            <div key={type.name} className="group">
                              <div className="flex items-center gap-3 mb-1.5">
                                <div className="w-44 text-sm font-medium text-slate-200">{type.name}</div>
                                <div className="flex-1">
                                  <div className="bg-slate-700 rounded-full h-8 overflow-hidden relative">
                                    <div 
                                      className="h-full rounded-full transition-all duration-300 flex items-center px-3 gap-1.5 group-hover:brightness-110 group-hover:scale-[1.01]"
                                      style={{
                                        width: `${widthPct}%`,
                                        backgroundColor: type.color
                                      }}
                                    >
                                      <span className="text-xs font-semibold text-white whitespace-nowrap">
                                        {(type.count / 1000000).toFixed(2)}M
                                      </span>
                                      <span className="text-sm font-bold text-white whitespace-nowrap">
                                        {type.pct.toFixed(1)}%
                                      </span>
                                    </div>
                                    
                                    {/* Hover Tooltip */}
                                    <div className="absolute left-1/2 -translate-x-1/2 -top-12 bg-slate-800 border border-slate-600 px-3 py-2 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap text-xs z-10">
                                      <div className="font-semibold text-slate-200">{type.name}</div>
                                      <div className="text-slate-400">{(type.count / 1000000).toFixed(2)} Million people ({type.pct.toFixed(1)}%)</div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          );
                        })}
                      </div>

                      {/* Grid View */}
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-3 mt-6 pt-6 border-t border-slate-700">
                        {[
                          { name: 'Seeing', pct: 48.55, count: 13.02, color: '#9333ea' },
                          { name: 'Movement', pct: 27.87, count: 7.47, color: '#7c3aed' },
                          { name: 'Hearing', pct: 18.92, count: 5.07, color: '#a855f7' },
                          { name: 'Speech', pct: 7.49, count: 2.01, color: '#d8b4fe' }
                        ].map(type => (
                          <div 
                            key={type.name}
                            className="bg-slate-900 rounded-lg p-4 border border-slate-700 text-center transition-all duration-300 hover:border-slate-500 hover:shadow-lg hover:scale-105 cursor-pointer group"
                          >
                            <div className="text-xs text-slate-400 mb-2">{type.name}</div>
                            <div className="text-2xl font-bold mb-1 transition-colors" style={{color: type.color}}>
                              {type.pct}%
                            </div>
                            <div className="text-xs text-slate-500 group-hover:text-slate-400 transition-colors">
                              {type.count}M people
                            </div>
                          </div>
                        ))}
                      </div>

                      <div className="mt-4 bg-purple-900/20 border border-purple-700 rounded-lg p-3">
                        <div className="text-xs text-purple-100">
                          <strong>Note:</strong> "Seeing" dominates (48.5%) due to Census 2011 medical model. 
                          RPwD Act 2016 expanded to 21 categories, suggesting many remain uncounted.
                        </div>
                      </div>
                    </div>
                  )}
                </div>

              </div>
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<DisabilityDashboard />);
    </script>
</body>
</html>
